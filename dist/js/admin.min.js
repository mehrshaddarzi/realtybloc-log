"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}jQuery(document).ready(function(e){var t;t=function(c){var s={},l={};c.ajaxq=function(a,t){if(void 0===t)throw"AjaxQ: queue name is not provided";var i=c.Deferred(),e=i.promise();e.success=e.done,e.error=e.fail,e.complete=e.always;var n="function"==typeof t,o=n?null:c.extend(!0,{},t);return function(e){if(s[a])s[a].push(e);else{s[a]=[];var t=e();l[a]=t}}(function(){var e=c.ajax.apply(window,[n?t():o]);return e.done(function(){i.resolve.apply(this,arguments)}),e.fail(function(){i.reject.apply(this,arguments)}),e.always(r),e}),e;function r(){if(s[a]){var e=s[a].shift();if(e){var t=e();l[a]=t}else delete s[a],delete l[a]}}},c.each(["getq","postq"],function(e,o){c[o]=function(e,t,a,i,n){return c.isFunction(a)&&(n=n||i,i=a,a=void 0),c.ajaxq(e,{type:"postq"===o?"post":"get",url:t,data:a,success:i,dataType:n})}});function t(e){return s.hasOwnProperty(e)&&0<s[e].length||l.hasOwnProperty(e)}c.ajaxq.isRunning=function(e){return e?t(e):function(){for(var e in s)if(t(e))return!0;return!1}()},c.ajaxq.getActiveRequest=function(e){if(!e)throw"AjaxQ: queue name is required";return l[e]},c.ajaxq.abort=function(e){if(!e)throw"AjaxQ: queue name is required";var t=c.ajaxq.getActiveRequest(e);delete s[e],delete l[e],t&&t.abort()},c.ajaxq.clear=function(e){if(e)s[e]&&(s[e]=[]);else for(var t in s)s.hasOwnProperty(t)&&(s[t]=[])}},"function"==typeof define&&define.amd?define(["jquery"],t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t(require("jquery")):t(jQuery);var o={};if(o.global="undefined"!=typeof rbl_global?rbl_global:[],o.is_active=function(e){return 1===o.global.options[e]},o.ajax_queue={key:"realty-bloc-log",time:400},o.ajaxQ=function(e,t,a,i){var n={url:e,type:4<arguments.length&&void 0!==arguments[4]?arguments[4]:"GET",dataType:"json",cache:!1,data:t,success:function(e){o[a](e)},error:function(e,t,a){o[i](e.responseText)}};jQuery.ajaxq(o.ajax_queue.key,n)},o.placeholder=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return'<div class="wps-ph-item"><div class="wps-ph-col-12">'.concat(o.placeholder_content("picture"),"").concat(o.placeholder_content("line"),"</div>")+(!1!==e?e:"")+"</div>"},o.line_placeholder=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t='<div class="wps-ph-item">',a=0;a<e;a++)t+='<div class="wps-ph-col-12"> <div class="wps-ph-row"><div class="wps-ph-col-6 big"></div><div class="wps-ph-col-4 empty big"></div><div class="wps-ph-col-4"></div><div class="wps-ph-col-8 empty"></div><div class="wps-ph-col-6"></div><div class="wps-ph-col-6 empty"></div><div class="wps-ph-col-12"></div> </div></div>';return t+="</div>"},o.circle_placeholder=function(){return'<div class="wps-ph-item"> '.concat(o.placeholder_content("circle"),"</div>")},o.rectangle_placeholder=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return'<div class="wps-ph-item'+(0<e.length?" "+e:"")+'"><div class="wps-ph-col-12">'.concat(o.placeholder_content("picture"),"</div></div>")},o.placeholder_content=function(){var e="";switch(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"line"){case"picture":e='<div class="wps-ph-picture"></div>';break;case"line":e='<div class="wps-ph-row"><div class="wps-ph-col-6 big"></div><div class="wps-ph-col-4 empty big"></div><div class="wps-ph-col-2 big"></div><div class="wps-ph-col-4"></div><div class="wps-ph-col-8 empty"></div><div class="wps-ph-col-6"></div><div class="wps-ph-col-6 empty"></div><div class="wps-ph-col-12"></div> </div>';break;case"circle":e='<div class="wps-ph-col-2"></div><div class="wps-ph-col-8"><div class="wps-ph-avatar"></div></div>'}return e},o.exist_tag=function(e){return jQuery(e).length},o.date_picker=function(){jQuery.fn.datepicker&&"undefined"!=typeof wps_i18n_jquery_datepicker&&jQuery("input[data-wps-date-picker]").datepicker({monthNames:wps_i18n_jquery_datepicker.monthNames,monthNamesShort:wps_i18n_jquery_datepicker.monthNamesShort,dayNames:wps_i18n_jquery_datepicker.dayNames,dayNamesShort:wps_i18n_jquery_datepicker.dayNamesShort,dayNamesMin:wps_i18n_jquery_datepicker.dayNamesMin,dateFormat:wps_i18n_jquery_datepicker.dateFormat,firstDay:wps_i18n_jquery_datepicker.firstDay,isRTL:wps_i18n_jquery_datepicker.isRTL,onSelect:function(e){var t=jQuery(this).attr("data-wps-date-picker");0<e.length&&o.exist_tag("input[id=date-"+t+"]")&&jQuery("input[id=date-"+t+"]").val(e)}})},o.select2=function(){jQuery("select[data-type-show=select2]").select2()},o.redirect=function(e){window.location.replace(e)},o.line_chart=function(e,t,a,i){var n=document.getElementById(e).getContext("2d");o.is_active("rtl")&&(Chart.defaults.global.defaultFontFamily="tahoma"),new Chart(n,{type:"line",data:{labels:a,datasets:i},options:{responsive:!0,legend:{position:"bottom"},animation:{duration:1500},title:{display:!0,text:t},tooltips:{mode:"index",intersect:!1},scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})},o.pie_chart=function(e,t,a){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3],n=document.getElementById(e).getContext("2d");o.is_active("rtl")&&(Chart.defaults.global.defaultFontFamily="tahoma"),!1===i&&(i=function(e,t){var a=t.datasets[e.datasetIndex],i=a.data.reduce(function(e,t,a,i){return e+t}),n=a.data[e.index];return Math.floor(n/i*100+.5)+"% - "+t.labels[e.index]}),new Chart(n,{type:"pie",data:{labels:t,datasets:a},options:{responsive:!0,legend:{position:"bottom"},animation:{duration:1500},tooltips:{callbacks:{label:i}}},plugins:[{afterDraw:function(e){if(!0===e.data.datasets[0].data.every(function(e){return 0==e})){var t=e.chart.ctx,a=e.chart.width,i=e.chart.height;e.clear(),t.save(),t.textAlign="center",t.textBaseline="middle",t.font="14px normal 'tahoma'",t.fillText(o._("no_data"),a/2,i/2),t.restore()}}}]})},o.chart_id=function(e){return"wp-statistics-"+e+"-meta-box-chart"},o.random_color=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=[[243,156,18,"#f39c12"],[52,152,219,"#3498db"],[192,57,43,"#c0392b"],[155,89,182,"#9b59b6"],[39,174,96,"#27ae60"],[230,126,34,"#e67e22"],[142,68,173,"#8e44ad"],[46,204,113,"#2ecc71"],[41,128,185,"#2980b9"],[22,160,133,"#16a085"],[211,84,0,"#d35400"],[44,62,80,"#2c3e50"],[241,196,15,"#f1c40f"],[231,76,60,"#e74c3c"],[26,188,156,"#1abc9c"],[46,204,113,"#2ecc71"],[52,152,219,"#3498db"],[155,89,182,"#9b59b6"],[52,73,94,"#34495e"],[22,160,133,"#16a085"],[39,174,96,"#27ae60"],[44,62,80,"#2c3e50"],[241,196,15,"#f1c40f"],[230,126,34,"#e67e22"],[231,76,60,"#e74c3c"],[236,240,241,"#9b9e9f"],[149,165,166,"#a65d20"]];return t[!1===e?Math.floor(Math.random()*t.length):e]},o.site_icon=function(e){return'<img src="https://www.google.com/s2/favicons?domain='.concat(e,'" width="16" height="16" alt="').concat(e,'" style="vertical-align: -3px;" />')},o.wordpress_postbox_ajax=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"enable",t=jQuery(".postbox .hndle, .postbox .handlediv");"enable"===e?t.on("click",window.postboxes.handle_click):t.off("click",window.postboxes.handle_click)},o.isset=function(e){for(var t=Array.prototype.slice.call(arguments,1),a=0;a<t.length;a++){if(!e||!e.hasOwnProperty(t[a]))return!1;e=e[t[a]]}return!0},o.number_format=function(e,t,a,i){if(null==e||!isFinite(e))throw new TypeError("number is not valid");if(!t){var n=e.toString().split(".").length;t=1<n?n:0}a=a||".",i=i||",";var o=(e=(e=parseFloat(e).toFixed(t)).replace(".",a)).split(a);return o[0]=o[0].replace(/\B(?=(\d{3})+(?!\d))/g,i),e=o.join(a)},o.set_equal_height=function(e,t){var a=jQuery(e).height(),i=jQuery(t).height(),n=t,o=a;a<i&&(n=e,o=i),jQuery(n).css("height",o+"px")},o.Create_Half_PostBox=function(e,t){return'<div class="postbox-container wps-postbox-half '.concat(e,'"><div class="metabox-holder"><div class="meta-box-sortables"> <div class="postbox" id="').concat(t,'"> <div class="inside"></div></div></div></div></div>')},o.isIP=function(e){var t="(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]?|0)";return new RegExp("^".concat(t,"\\.").concat(t,"\\.").concat(t,"\\.").concat(t,"$")).test(e)},o.date_picker(),o.select2(),o.exist_tag("canvas[id=rbl-user-history-canvas]")){var a=JSON.parse(rbl_chart_history_log),i=[],n=0;Object.keys(a.label).forEach(function(e){var t=o.random_color(n);i.push({label:a.label[e],data:a.data[e],backgroundColor:"rgba("+t[0]+","+t[1]+","+t[2]+",0.3)",borderColor:"rgba("+t[0]+","+t[1]+","+t[2]+",1)",borderWidth:1,fill:!0}),n++}),o.line_chart("rbl-user-history-canvas",a.title,a.date,i)}});